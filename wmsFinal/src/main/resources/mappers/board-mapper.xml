<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="boardMapper">
  	
	<resultMap id="boardResultSet" type="board">
		<result column="BOARD_NO" property="boardNo" />
		<result column="BOARD_TITLE" property="boardTitle" />
		<result column="BOARD_CONTENT" property="boardContent" />
		<result column="MEMBER_ID" property="memberId" />
		<result column="COUNT" property="count" />
		<result column="CREATE_DATE" property="createDate" />
		<result column="ORIGIN_NAME" property="originName" />
		<result column="CHANGE_NAME" property="changeName" />
		
		
	</resultMap>
	
	<resultMap id="replyResultSet" type="com.kh.wms.board.model.vo.Reply">
		<result column="reply_no" property="replyNo" />
		<result column="reply_writer" property="replyWriter" />
		<result column="reply_content" property="replyContent" />
		<result column="create_date" property="createDate" />
	</resultMap>

	<select id="nomalSelectListCount" resultType="_int">
		select count(*)
		  from board
		 where board_status = 'Y'
	</select>

	<select id="nomalSelectList" resultMap="boardResultSet">
		SELECT  BOARD_NO, 
				BOARD_TITLE, 
				M.MEMBER_ID, 
				COUNT,
		       TO_CHAR(CREATE_DATE, 'YYYY-MM-DD') AS "CREATE_DATE", ORIGIN_NAME
		  FROM BOARD B
		   JOIN MEMBER M ON (M.MEMBER_NO = B.MEMBER_NO)
             WHERE BOARD_STATUS = 'Y' 
		  ORDER BY BOARD_NO DESC
	</select>


	<insert id="nomalInsertBoard" parameterType="board">
			INSERT INTO BOARD(
							BOARD_NO
							,BOARD_TITLE
							,MEMBER_NO
							,BOARD_CONTENT
							,ORIGIN_NAME
							,CHANGE_NAME
							,BOARD_TYPE	
							)
							VALUES
							(
							SEQ_BNO.NEXTVAL
							,#{boardTitle}
							,#{memberNo}
							,#{boardContent}
							,#{originName}
							,#{changeName}
							,0
							)
	
	</insert>
	
 
  	
</mapper>
